{"mappings":"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","sources":["Documents/GitHub/bs3.illogicalapple.com/src/js/index.js"],"sourcesContent":["const $ = (...args) => document.querySelector(...args)\n\nvar caretPosition = 0\nvar code = \"\"\n\nasync function openProject(event) {\n  let file = event.target.files[0]\n  if(file) player.loadProjectFromFile(file)\n}\n\nfunction inputHandler() {\n  let caret = document.createElement(\"div\")\n  let textToAdd = $(\"div.contenteditable\").innerText.substring(0, $(\"div.contenteditable\").innerText.length - 1)\n  let editor = $(\"div.text-editor pre.text\")\n  console.log($(\"div.contenteditable\").innerHTML)\n  editor.replaceChildren()\n  caret.classList.add(\"caret\", \"animation\")\n  editor.append(caret)\n  editor.insertBefore(document.createTextNode(code.substring(0, caretPosition)), caret)\n  editor.insertBefore(document.createTextNode(textToAdd), caret)\n  editor.append(document.createTextNode(code.substring(caretPosition)))\n  console.log(code.substring(caretPosition))\n  code = code.substring(0, caretPosition) + textToAdd + code.substring(caretPosition)\n  caretPosition += textToAdd.length\n  pauseCaret()\n  $(\"div.contenteditable\").innerHTML = \"&nbsp;\"\n}\n\nfunction pauseCaret() {\n  if($(\"div.text-editor div.caret\").classList.contains(\"animation\")) {\n    $(\"div.text-editor div.caret\").classList.remove(\"animation\")\n    setTimeout(() => $(\"div.text-editor div.caret\").classList.add(\"animation\"), 500)\n  }\n}\n\naddEventListener(\"load\", function() {\n  $(\"div.text-editor\").addEventListener(\"click\", () => {\n    pauseCaret()\n    setTimeout(() => $(\"div.contenteditable\").focus(), 0)\n  })\n  $(\"div.contenteditable\").addEventListener(\"input\", inputHandler)\n  $(\"div.contenteditable\").addEventListener(\"keydown\", event => {\n    if(event.key == \"ArrowLeft\") {\n      if(caretPosition > 0) caretPosition--\n      inputHandler()\n    }\n    if(event.key == \"ArrowRight\") {\n      if(caretPosition < code.length) caretPosition++\n      inputHandler()\n    }\n    if(event.key == \"Backspace\") {\n      if(caretPosition > 0) {\n        code = code.substring(0, caretPosition - 1) + code.substring(caretPosition)\n        caretPosition--\n        inputHandler()\n      }\n    }\n    if(event.key == \"Delete\") {\n      if(caretPosition < code.length) {\n        code = code.substring(0, caretPosition) + code.substring(caretPosition + 1)\n        inputHandler()\n      }\n    }\n  })\n  \n  $(\"input.load-file\").addEventListener(\"change\", openProject)\n})"],"names":[],"version":3,"file":"index.ceccfea3.js.map","sourceRoot":"/__parcel_source_root/"}