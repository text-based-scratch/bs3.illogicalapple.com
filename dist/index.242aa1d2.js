var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},d=e.parcelRequire94c2;null==d&&((d=function(e){if(e in t)return t[e].exports;if(e in a){var d=a[e];delete a[e];var i={id:e,exports:{}};return t[e]=i,d.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},e.parcelRequire94c2=d);var i=d("fAe1L");let n=$("ul.autocomplete"),o=()=>s(activeWord);function s(e,t){"ArrowDown"==e.key?(e.stopPropagation(),Number(n.dataset.activeIndex)<n.childNodes.length-1?(n.childNodes[Number(n.dataset.activeIndex)].classList.remove("active"),n.dataset.activeIndex++,n.childNodes[Number(n.dataset.activeIndex)].classList.add("active")):(n.childNodes[Number(n.dataset.activeIndex)].classList.remove("active"),n.dataset.activeIndex=0,n.childNodes[0].classList.add("active"))):"ArrowUp"==e.key&&(e.stopPropagation(),Number(n.dataset.activeIndex)>0?(n.childNodes[Number(n.dataset.activeIndex)].classList.remove("active"),n.dataset.activeIndex--,n.childNodes[Number(n.dataset.activeIndex)].classList.add("active")):(n.childNodes[0].classList.remove("active"),n.dataset.activeIndex=n.childNodes.length-1,n.childNodes[Number(n.dataset.activeIndex)].classList.add("active")))}window.autocomplete=()=>{let e=[],t=$("pre.text").querySelectorAll("div.line")[caretPosition[1]].innerText.split(/[^a-z0-9\_]/i);if(t=t[t.length-1],n.style.display="block",n.dataset.activeIndex=0,""!=t){let a={};for(let e in i.default)"outer"==i.default[e].keyword||"event"==i.default[e].opcode.split("_")[0]&&!["event_broadcast","event_broadcastandwait"].includes(i.default[e].opcode)?0==indentation&&(a[e]=i.default[e]):0!=indentation&&(a[e]=i.default[e]);let d=Object.entries(a).filter((e=>e[0].startsWith(t))),l=Object.entries(a).filter((e=>e[0].includes(t))),c=[];d.concat(l).forEach((e=>{c.map((e=>e[1].opcode)).includes(e[1].opcode)||c.push(e)})),c.length>0?(n.style.left=`calc(${caretPosition[0]}ch + 2rem + ${String(caretPosition[1]+1).length}ch)`,n.style.top=`calc(${1.25*(caretPosition[1]+!0)}em - ${$("pre.text").scrollTop+false*n.getBoundingClientRect().height}px)`,c.forEach(((t,a)=>{let d=document.createElement("li");d.classList.add("candidate"),a==Number(n.dataset.activeIndex)&&d.classList.add("active"),d.innerText=t[0],d.style.setProperty("--candidate-color",`#${formatData[t[1].opcode.split("_")[0]]}`),e.push(d)})),n.replaceChildren(...e),o=e=>s(e),$("div.contenteditable").addEventListener("keydown",o)):(n.style.display="none",$("div.contenteditable").removeEventListener("keydown",o))}else n.style.display="none",$("div.contenteditable").removeEventListener("keydown",o)};
//# sourceMappingURL=index.242aa1d2.js.map
