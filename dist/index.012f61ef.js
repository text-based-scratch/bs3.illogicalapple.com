var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},d=e.parcelRequire94c2;null==d&&((d=function(e){if(e in t)return t[e].exports;if(e in a){var d=a[e];delete a[e];var i={id:e,exports:{}};return t[e]=i,d.call(i.exports,i,i.exports),i.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},e.parcelRequire94c2=d);var i=d("fAe1L");let o=$("ul.autocomplete"),l=()=>c(activeWord);function c(e,t){"ArrowDown"==e.key?(e.stopPropagation(),Number(o.dataset.activeIndex)<o.childNodes.length-1?(o.childNodes[Number(o.dataset.activeIndex)].classList.remove("active"),o.dataset.activeIndex++,o.childNodes[Number(o.dataset.activeIndex)].classList.add("active")):(o.childNodes[Number(o.dataset.activeIndex)].classList.remove("active"),o.dataset.activeIndex=0,o.childNodes[0].classList.add("active"))):"ArrowUp"==e.key&&(e.stopPropagation(),Number(o.dataset.activeIndex)>0?(o.childNodes[Number(o.dataset.activeIndex)].classList.remove("active"),o.dataset.activeIndex--,o.childNodes[Number(o.dataset.activeIndex)].classList.add("active")):(o.childNodes[0].classList.remove("active"),o.dataset.activeIndex=o.childNodes.length-1,o.childNodes[Number(o.dataset.activeIndex)].classList.add("active")))}window.autocomplete=()=>{let e=[],t=$("pre.text").querySelectorAll("div.line")[caretPosition[1]].innerText.split(/[^a-z0-9\_]/i);if(t=t[t.length-1],o.style.display="block",o.dataset.activeIndex=0,""!=t){let a={};for(block in i.default)"outer"==i.default[block].keyword||"event"==i.default[block].opcode.split("_")[0]&&!["event_broadcast","event_broadcastandwait"].includes(i.default[block].opcode)?0==indentation&&(a[block]=i.default[block]):0!=indentation&&(a[block]=i.default[block]);let d=Object.entries(a).filter((e=>e[0].startsWith(t))),n=Object.entries(a).filter((e=>e[0].includes(t))),s=[];d.concat(n).forEach((e=>{s.map((e=>e[1].opcode)).includes(e[1].opcode)||s.push(e)})),s.length>0?(o.style.left=`calc(${caretPosition[0]}ch + 2rem + ${String(caretPosition[1]+1).length}ch)`,o.style.top=`calc(${1.25*(caretPosition[1]+!0)}em - ${$("pre.text").scrollTop+false*o.getBoundingClientRect().height}px)`,s.forEach(((t,a)=>{let d=document.createElement("li");d.classList.add("candidate"),a==Number(o.dataset.activeIndex)&&d.classList.add("active"),d.innerText=t[0],d.style.setProperty("--candidate-color",`#${formatData[t[1].opcode.split("_")[0]]}`),e.push(d)})),o.replaceChildren(...e),l=e=>c(e),$("div.contenteditable").addEventListener("keydown",l)):(o.style.display="none",$("div.contenteditable").removeEventListener("keydown",l))}else o.style.display="none",$("div.contenteditable").removeEventListener("keydown",l)};
//# sourceMappingURL=index.012f61ef.js.map
